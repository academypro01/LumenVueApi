(function(){"use strict";var t={9114:function(t,e,n){var o=n(9242),s=n(3396);function r(t,e,n,o,r,a){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i)])}var a={name:"App"},i=n(89);const l=(0,i.Z)(a,[["render",r]]);var c=l,u=n(678);const p={class:"mt-4"},d=(0,s._)("h1",{class:"text-center"},"Laravel-Vue Api Test!",-1),g={id:"nav",class:"flex text-center"},h=(0,s._)("hr",null,null,-1),m={key:0};function f(t,e,n,o,r,a){return(0,s.wg)(),(0,s.iD)("div",p,[d,(0,s._)("div",g,[(0,s._)("a",{class:"m-4",style:{cursor:"pointer"},onClick:e[0]||(e[0]=(...t)=>a.register&&a.register(...t))},"Register"),(0,s._)("a",{class:"m-4",style:{cursor:"pointer"},onClick:e[1]||(e[1]=(...t)=>a.login&&a.login(...t))},"Login")]),h,r.flag?((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.selectedComponent)))])):(0,s.kq)("",!0)])}const k={class:"m-2 p-3"},w=(0,s._)("h2",null,"Register Form:",-1),b={class:"form-group"},v=(0,s._)("label",{for:"name"},"Name:",-1),_={class:"form-group"},y=(0,s._)("label",{for:"email"},"Email:",-1),P={class:"form-group"},C=(0,s._)("label",{for:"password"},"Password:",-1),x={class:"form-group"};function D(t,e,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",k,[a.alertFlag?((0,s.wg)(),(0,s.j4)(l,{key:0,message:a.alertMessage},null,8,["message"])):(0,s.kq)("",!0),w,(0,s._)("form",null,[(0,s._)("div",b,[v,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.signupData.name=t),type:"text",name:"name",id:"name",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[o.nr,a.signupData.name]])]),(0,s._)("div",_,[y,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.signupData.email=t),type:"email",name:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.nr,a.signupData.email]])]),(0,s._)("div",P,[C,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.signupData.password=t),type:"password",name:"password",id:"password",class:"form-control",placeholder:"Enter your password"},null,512),[[o.nr,a.signupData.password]])]),(0,s._)("div",x,[(0,s._)("input",{type:"button",value:"Register",class:"form-control btn btn-success mt-2",onClick:e[3]||(e[3]=(...t)=>i.userSignup&&i.userSignup(...t))})])])])}var U=n(7139);const O={class:"alert alert-info"};function T(t,e,n,o,r,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",O,[(0,s._)("b",null,(0,U.zw)(n.message),1)])])}var j={name:"AlertMessageComponent",props:["message"]};const M=(0,i.Z)(j,[["render",T]]);var A=M,E={name:"RegisterComponent",data(){return{signupData:{name:"",email:"",password:""},alertFlag:!1,alertMessage:""}},components:{alertMessageComponent:A},methods:{userSignup(){this.axios.post("register",{name:this.signupData.name,email:this.signupData.email,password:this.signupData.password},{Accept:"application/json","Content-Type":"application/json"}).then((t=>{console.log(t),this.alertFlag=!0,this.alertMessage="you are registered successfully"})).catch((t=>{console.log(t),this.alertFlag=!0,this.alertMessage="Error, please try again later"}))}}};const $=(0,i.Z)(E,[["render",D]]);var F=$;const L={class:"m-2 p-3"},S=(0,s._)("h2",null,"Login Form:",-1),V={class:"form-group"},Z=(0,s._)("label",{for:"email"},"Email:",-1),R={class:"form-group"},q=(0,s._)("label",{for:"password"},"Password:",-1),W={class:"form-group"};function z(t,e,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",L,[a.alertFlag?((0,s.wg)(),(0,s.j4)(l,{key:0,message:a.alertMessage},null,8,["message"])):(0,s.kq)("",!0),S,(0,s._)("form",null,[(0,s._)("div",V,[Z,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.email=t),type:"email",name:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.nr,a.email]])]),(0,s._)("div",R,[q,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.password=t),type:"password",name:"password",id:"password",class:"form-control",placeholder:"Enter your password"},null,512),[[o.nr,a.password]])]),(0,s._)("div",W,[(0,s._)("input",{type:"button",value:"Login",onClick:e[2]||(e[2]=(...t)=>i.signinUser&&i.signinUser(...t)),class:"form-control btn btn-success mt-2"})])])])}var H={name:"LoginComponent",data(){return{email:"",password:"",alertFlag:!1,alertMessage:""}},components:{AlertMessageComponent:A,alertMessageComponent:A},methods:{signinUser(){this.axios.post("login",{email:this.email,password:this.password},{Accept:"application/json","Content-Type":"application/json"}).then((t=>{this.setCookie("token",t.data.data.token),this.setCookie("name",t.data.data.name),this.setCookie("email",t.data.data.email),this.$router.push("/home")})).catch((t=>{this.alertFlag=!0,this.alertMessage="Username or Password is incorrect.",console.log(t)}))},setCookie(t,e,n=1){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let s="expires="+o.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"}}};const N=(0,i.Z)(H,[["render",z]]);var I=N,Y={name:"IndexComponent",data(){return{flag:!1,selectedComponent:"",token:""}},methods:{register(){this.flag=!0,this.selectedComponent=F},login(){this.flag=!0,this.selectedComponent=I}}};const B=(0,i.Z)(Y,[["render",f]]);var K=B;const G={class:"container"},J=(0,s._)("h3",{class:"text-center"},"Welcome to your panel, majid.",-1),Q=(0,s._)("hr",null,null,-1),X=(0,s.Uk)("Create"),tt=(0,s._)("hr",null,null,-1);function et(t,e,n,o,r,a){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",G,[J,Q,(0,s._)("button",{type:"button",class:"btn btn-danger ml-2",onClick:e[0]||(e[0]=(...t)=>a.logoutUser&&a.logoutUser(...t))},"logout"),(0,s.Wm)(i,{to:"/create",type:"button",class:"btn btn-primary m-2"},{default:(0,s.w5)((()=>[X])),_:1}),tt,((0,s.wg)(),(0,s.j4)((0,s.LL)(r.selectedComponent)))])}const nt={class:"container"},ot={class:"card-header"},st={class:"card-body"},rt=["value"],at={class:"card-title"},it=(0,s._)("hr",null,null,-1);function lt(t,e,n,o,r,a){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",nt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.posts,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"card text-white bg-dark mb-3",style:{"max-width":"100%"}},[(0,s._)("div",ot,"Post Author: "+(0,U.zw)(t.user.name),1),(0,s._)("div",st,[(0,s._)("input",{type:"hidden",name:"post_id",value:t.id},null,8,rt),(0,s.Wm)(i,{to:"/show/"+t.id},{default:(0,s.w5)((()=>[(0,s._)("h5",at,(0,U.zw)(t.title),1)])),_:2},1032,["to"])])])))),128)),it,(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:e[0]||(e[0]=(...t)=>a.previousPage&&a.previousPage(...t))},"Previous"),(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:e[1]||(e[1]=(...t)=>a.nextPage&&a.nextPage(...t))},"Next")])}var ct={name:"PostsListComponent",data(){return{posts:[],cPage:1,totalPage:1}},methods:{getToken(t="token"){let e=t+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let t=o[s];while(" "==t.charAt(0))t=t.substring(1);0==t.indexOf(e)&&(n=t.substring(e.length,t.length))}return n},getPosts(){let t=this.getToken();this.axios.get(`post?api_token=${t}&page=${this.cPage}`).then((t=>{this.posts=t.data.data,this.totalPage=t.data.meta.last_page})).catch((t=>{console.log(t)}))},previousPage(){let t=this.cPage<=1?1:this.cPage-1;this.cPage=t,this.getPosts()},nextPage(){let t=this.cPage>=this.totalPage?this.totalPage:this.cPage+1;this.cPage=t,this.getPosts()}},created(){this.getPosts()}};const ut=(0,i.Z)(ct,[["render",lt]]);var pt=ut,dt={name:"HomeComponent",data(){return{selectedComponent:pt,token:""}},components:[pt],methods:{setCookie(t,e,n=1){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let s="expires="+o.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"},getCookie(t="token"){let e=t+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let t=n[o];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""},checkToken(){let t=this.getCookie();return""!=t},logoutUser(){this.setCookie("token",null,-1),this.setCookie("email",null,-1),this.setCookie("name",null,-1),document.cookie.split(";").forEach((function(t){document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),this.$router.push("/")}},beforeRouteEnter(t,e,n){function o(t="token"){let e=t+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let t=n[o];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}function s(){let t=o();return""!=t}let r=s();r?n():n(!1)},mounted(){let t="token",e=t+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let t=o[s];while(" "==t.charAt(0))t=t.substring(1);0==t.indexOf(e)&&(n=t.substring(e.length,t.length))}this.token=n}};const gt=(0,i.Z)(dt,[["render",et]]);var ht=gt;const mt={class:"container"},ft=(0,s._)("h3",null,"Create New Post:",-1),kt={class:"form-group"},wt=(0,s._)("label",{for:"title"},"Post title:",-1),bt={class:"form-group"},vt=(0,s._)("label",{for:"description"},"Post Description",-1),_t={class:"form-group"};function yt(t,e,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",mt,[ft,(0,s._)("form",null,[(0,s._)("div",kt,[wt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t),type:"text",name:"title",placeholder:"Enter Post Title",id:"title",class:"form-control"},null,512),[[o.nr,a.title]])]),(0,s._)("div",bt,[vt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.description=t),name:"description",placeholder:"Enter Post Description",id:"description",cols:"30",rows:"10",class:"form-control"},null,512),[[o.nr,a.description]])]),(0,s._)("div",_t,[(0,s._)("input",{type:"button",value:"Create Post",class:"btn btn-primary mt-2 form-control",onClick:e[2]||(e[2]=(...t)=>i.createPost&&i.createPost(...t))})])])])}var Pt={name:"CreatePostComponent",data(){return{title:"",description:""}},methods:{getToken(t="token"){let e=t+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let t=o[s];while(" "==t.charAt(0))t=t.substring(1);0==t.indexOf(e)&&(n=t.substring(e.length,t.length))}return n},createPost(){let t=this.getToken();this.axios.post(`post?api_token=${t}`,{title:this.title,description:this.description}).then((()=>{this.$router.push("/home")})).catch((t=>{console.log(t)}))}},beforeRouteEnter(t,e,n){function o(t="token"){let e=t+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let t=n[o];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}function s(){let t=o();return""!=t}let r=s();r?n():n(!1)}};const Ct=(0,i.Z)(Pt,[["render",yt]]);var xt=Ct;const Dt={class:"container"},Ut=(0,s._)("h2",null,"Update Post",-1),Ot={class:"form-group"},Tt=(0,s._)("label",{for:"title"},"Post Title:",-1),jt={class:"form-group"},Mt=(0,s._)("label",{for:"description"},"Post Description:",-1),At=(0,s._)("hr",null,null,-1),Et={key:0},$t=(0,s._)("hr",null,null,-1);function Ft(t,e,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",Dt,[Ut,(0,s._)("div",Ot,[Tt,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t),id:"title",class:"form-control"},null,512),[[o.nr,a.title]])]),(0,s._)("div",jt,[Mt,(0,s.wy)((0,s._)("textarea",{name:"description","onUpdate:modelValue":e[1]||(e[1]=t=>a.description=t),id:"description",cols:"30",rows:"10",class:"form-control"},null,512),[[o.nr,a.description]])]),At,(0,s._)("button",{type:"button",class:"btn btn-warning m-2",onClick:e[2]||(e[2]=(...t)=>i.canclePost&&i.canclePost(...t))},"Cancle"),(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:e[3]||(e[3]=(...t)=>i.updatePost&&i.updatePost(...t))},"Update"),(0,s._)("button",{type:"button",class:"btn btn-danger m-2",onClick:e[4]||(e[4]=(...t)=>i.deletePost&&i.deletePost(...t))},"Delete"),a.alertFlag?((0,s.wg)(),(0,s.iD)("div",Et,[$t,(0,s.Wm)(l,{message:a.alertMessage},null,8,["message"])])):(0,s.kq)("",!0)])}var Lt={name:"ShowPostComponent",data(){return{id:this.$route.params.id,post:[],title:"",description:"",alertFlag:!1,alertMessage:"",token:""}},components:{alertMessageComponent:A},methods:{getToken(t="token"){let e=t+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let t=o[s];while(" "==t.charAt(0))t=t.substring(1);0==t.indexOf(e)&&(n=t.substring(e.length,t.length))}return n},getPost(){this.token=this.getToken(),this.axios.get(`post/${this.id}/?api_token=${this.token}`).then((t=>{this.post=t.data.data,this.title=this.post.title,this.description=this.post.description})).catch((t=>{console.log(t)}))},canclePost(){this.$router.push("/home")},updatePost(){const t={headers:{Accept:"application/json"}};this.axios.put(`post/${this.id}/?api_token=${this.token}`,{title:this.title,description:this.description},t).then((t=>{let e=t.data.data.status;console.log(e),"ok"==e&&(this.alertFlag=!0,this.alertMessage="Post Updated Successfully")})).catch((()=>{this.alertFlag=!0,this.alertMessage="You can't update this post"}))},deletePost(){const t={headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}};this.axios.delete(`post/${this.id}/?api_token=${this.token}`,t).then((t=>{let e=t.data.data;"ok"==e.status?this.$router.push("/home"):(this.alertFlag=!0,this.alertMessage=e.error)})).catch((t=>{console.log(t)}))}},beforeRouteEnter(t,e,n){function o(t="token"){let e=t+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let t=n[o];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}function s(){let t=o();return""!=t}let r=s();r?n():n(!1)},created(){this.getPost()}};const St=(0,i.Z)(Lt,[["render",Ft]]);var Vt=St;const Zt=[{path:"/",name:"IndexComponent",component:K},{path:"/home",name:"HomeComponent",component:ht},{path:"/create",name:"CreatePostComponent",component:xt},{path:"/show/:id",name:"ShowPostComponent",component:Vt}],Rt=(0,u.p7)({history:(0,u.PO)(),routes:Zt});var qt=Rt,Wt=n(6265),zt=n.n(Wt),Ht=n(6423),Nt=n(8533),It=n.n(Nt);zt().defaults.baseURL="http://localhost:8000/api/v1/",zt().defaults.headers.get.Accept="application/json",zt().defaults.headers.get["Content-Type"]="application/json",(0,o.ri)(c).use(Ht.Z,zt()).use(It()).use(qt).mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var r=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,o,s,r){if(!o){var a=1/0;for(u=0;u<t.length;u++){o=t[u][0],s=t[u][1],r=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(i=!1,r<a&&(a=r));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,s,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,r,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(e&&e(o);c<a.length;c++)r=a[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9114)}));o=n.O(o)})();
//# sourceMappingURL=app.13926835.js.map